<div class="container-fluid animated fadeIn pd100b">
  <!-- 検索ツール -->
  <div class="row">
    <div class="col-sm-12 col-md-8 col-md-offset-2">
      <accordion close-others="true" ng-init="openTools = false;">
        <accordion-group is-open="openTools">
          <accordion-heading>
            <i class="fa fa-arrow-circle-down" ng-class="{'fa-rotate-180': openTools}"></i> 検索ツール
          </accordion-heading>

          <div class="form-group">
            <div class="col-sm-6">
              <label for="department">部署</label>
              <select name="department" class="form-control" ng-model="vm.condition.department">
                <option value>全て</option>
                <option ng-repeat="department in vm.departments" value="{{ department._id }}">{{:: department.name}}</option>
              </select>
            </div>
            <div class="col-sm-6">
              <label for="roles">役割</label>
              <tags-input class="my-tags" ng-model="vm.condition.roles" key-property="value" template="roles_tags.html" display-property="name"
                placeholder="ロール" replace-spaces-with-dashes="false">
                <auto-complete source="vm.handleSearchRoles($query)" min-length="0" load-on-focus="true" load-on-empty="true" max-results-to-show="32"></auto-complete>
              </tags-input>
            </div>
            <div class="clearfix"></div>
          </div>


          <div class="form-group">
            <div class="col-sm-6">
              <label for="sort">並び順</label>
              <select name="sort" class="form-control" ng-model="vm.condition.sort">
                <option value="-created">登録の新しい順番</option>
                <option value="created">登録の古い順番</option>
              </select>
            </div>
            <div class="col-sm-6">
              <label for="limit">表示件数</label>
              <input name="limit" type="number" ng-model="vm.condition.limit" class="form-control">
            </div>
            <div class="clearfix"></div>
          </div>

        </accordion-group>
      </accordion>
    </div>
  </div>
</div>

<script type="text/ng-template" id="roles_tags.html">
  <a href="#">{{ data.name }}</a>
  <a class="remove-button" ng-click="$removeTag()" ng-bind="$$removeTagSymbol"></a>
</script>